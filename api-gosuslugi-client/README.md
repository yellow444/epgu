# README.md

## Описание проекта

Этот проект предоставляет набор функций и API для взаимодействия с платформой Госуслуги, включая управление сертификатами, создание запросов, загрузку и скачивание файлов, а также валидацию XML с использованием XSD.

## Требования

- Node.js
- React
- Axios
- moment
- react-datepicker
- ace-builds

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone <repository-url>
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Настройте файл `.env`:
   ```plaintext
   REACT_APP_BACKEND_URL=http://<backend-api-url>/api
   ```

4. Запустите сервер разработки:
   ```bash
   npm start
   ```

## Возможности

### Главная страница

1. **Управление сертификатами**:
   - Просмотр доступных сертификатов.
   - Установка текущего сертификата.

2. **Управление токенами**:
   - Генерация токенов доступа с использованием API-ключей.

3. **Загрузка файлов**:
   - Поддержка drag-and-drop для загрузки файлов.
   - Список файлов с возможностью очистки загруженных файлов.

4. **Создание запросов**:
   - Создание обычных и частичных запросов с прикрепленными файлами.

### XML-редактор

1. **Редактирование XML**:
   - Просмотр и редактирование XML-файлов.

2. **Форматирование XML**:
   - Автоматическое форматирование и улучшение читаемости XML-контента.

3. **Сохранение XML**:
   - Сохранение текущего XML в файл.

### Запросы

1. **Пагинация**:
   - Просмотр данных с сервера с разбивкой на страницы.

2. **Обновление запросов**:
   - Получение обновленных данных после указанной даты.

3. **Просмотр деталей**:
   - Просмотр и скачивание деталей запросов.

## Компоненты

### FileDropzone

Этот компонент позволяет пользователям загружать файлы через drag-and-drop или вручную.

#### Пропсы:
- `files`: Список загруженных файлов.
- `setFiles`: Функция для обновления списка файлов.
- `description`: Описание, отображаемое внутри зоны загрузки.

### XML-редактор

Использует `AceEditor` для редактирования XML-документов.

#### Возможности:
- Подсветка синтаксиса для XML.
- Нумерация строк и подсветка активной строки.
- Обновления в реальном времени.

## Переменные окружения

- `REACT_APP_BACKEND_URL`: Базовый URL для API-бекенда.

## Взаимодействие с бекендом

Фронтенд взаимодействует с бекендом с использованием Axios.

### Пример API-запроса

```javascript
const api = axios.create({
  baseURL: process.env.REACT_APP_BACKEND_URL,
  headers: { Authorization: `Bearer ${token}` },
});

api.post('/accessTkn_esia', { api_key: apikey })
  .then((response) => {
    console.log('Токен:', response.data.accessTkn);
  })
  .catch((error) => {
    console.error('Ошибка:', error.response.data);
  });
```

## Структура файлов

```plaintext
src/
├── components/
│   ├── FileDropzone/
│   │   └── FileDropzone.js
├── App.js
├── index.js
├── .env
├── styles/
└── assets/
```

## Доступные скрипты

В каталоге проекта можно использовать:

### `npm start`

Запускает приложение в режиме разработки.

### `npm build`

Создает приложение для продакшена.

## Лицензия

Этот проект лицензирован под лицензией MIT.
